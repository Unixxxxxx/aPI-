{% extends 'base.html' %}
{% load static %}
{% block think %}

<!-- âœ… IMAGE SLIDER -->
<section class="relative w-full max-w-5xl mx-auto mt-6 rounded-xl overflow-hidden shadow-lg">
  <div class="slide active-slide">
    <img src="https://via.placeholder.com/1200x400/3B82F6/ffffff?text=Image+1" alt="Slide 1" class="w-full h-64 md:h-96 object-cover">
  </div>
  <div class="slide">
    <img src="https://via.placeholder.com/1200x400/16A34A/ffffff?text=Image+2" alt="Slide 2" class="w-full h-64 md:h-96 object-cover">
  </div>
  <div class="slide">
    <img src="https://via.placeholder.com/1200x400/F59E0B/ffffff?text=Image+3" alt="Slide 3" class="w-full h-64 md:h-96 object-cover">
  </div>
  <div class="slide">
    <img src="https://via.placeholder.com/1200x400/DC2626/ffffff?text=Image+4" alt="Slide 4" class="w-full h-64 md:h-96 object-cover">
  </div>

  <!-- Slider Buttons -->
  <button onclick="prevSlide()" class="absolute left-4 top-1/2 -translate-y-1/2 bg-gray-700 bg-opacity-50 text-white p-2 rounded-full hover:bg-gray-900">â®</button>
  <button onclick="nextSlide()" class="absolute right-4 top-1/2 -translate-y-1/2 bg-gray-700 bg-opacity-50 text-white p-2 rounded-full hover:bg-gray-900">â¯</button>
</section>

<!-- âœ… SERVICES SECTION -->
<section class="max-w-6xl mx-auto px-6 py-12 grid md:grid-cols-3 gap-6">
  {% for service in services %}
  <div class="bg-white p-6 rounded-2xl shadow-lg text-center hover:shadow-2xl transition">
    <img src="{% static service.image %}" alt="{{ service.title }}" class="w-full h-48 object-cover rounded-xl mb-4">
    <h2 class="text-xl font-semibold mb-2">{{ service.title }}</h2>
    <p class="text-gray-600 mb-4">{{ service.description }}</p>
    <a href="#" class="text-blue-600 font-semibold hover:underline">Learn More â†’</a>
  </div>
  {% empty %}
  <div class="col-span-3 text-center text-gray-500">No services available</div>
  {% endfor %}
</section>

<!-- âœ… STATE-WISE DESTINATION SECTION -->
<section class="bg-white shadow-lg rounded-xl max-w-6xl mx-auto my-10 p-6">
  <h2 class="text-lg font-semibold mb-4 flex items-center">
    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
      <path d="M12 21c-4.418 0-8-3.582-8-8a8 8 0 1116 0c0 4.418-3.582 8-8 8z" />
      <circle cx="12" cy="10" r="3" />
    </svg>
    Check YatraDham Destination By State
  </h2>

  <!-- Tabs -->
  <div class="flex flex-wrap border-b border-gray-200 mb-4">
    <button class="tab-btn px-4 py-2 text-sm font-semibold text-orange-600 border-b-2 border-orange-500" data-state="uttarakhand">Uttarakhand</button>
    <button class="tab-btn px-4 py-2 text-sm font-semibold text-gray-600 hover:text-orange-600" data-state="odisha">Odisha</button>
    <button class="tab-btn px-4 py-2 text-sm font-semibold text-gray-600 hover:text-orange-600" data-state="jk">Jammu Kashmir</button>
    <button class="tab-btn px-4 py-2 text-sm font-semibold text-gray-600 hover:text-orange-600" data-state="karnataka">Karnataka</button>
    <button class="tab-btn px-4 py-2 text-sm font-semibold text-gray-600 hover:text-orange-600" data-state="telangana">Telangana</button>
  </div>

  <div class="grid md:grid-cols-2 gap-6">
    <!-- Left Side -->
    <div class="bg-orange-50 rounded-lg p-4 h-80 overflow-y-scroll border border-orange-200">
      <input id="searchCity" type="text" placeholder="Search City..." class="w-full p-2 mb-3 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-orange-400">

      <div id="uttarakhand" class="city-list space-y-2">
        <p>ğŸ³ Kedarnath</p>
        <p>ğŸ³ Badrinath</p>
        <p>ğŸ³ Haridwar</p>
        <p>ğŸ³ Rishikesh</p>
        <p>ğŸ³ Yamunotri</p>
        <p>ğŸ³ Gangotri</p>
        <p>ğŸ³ Rudraprayag</p>
      </div>

      <div id="odisha" class="city-list hidden space-y-2">
        <p>ğŸ³ Puri</p>
        <p>ğŸ³ Bhubaneswar</p>
        <p>ğŸ³ Konark</p>
        <p>ğŸ³ Cuttack</p>
      </div>

      <div id="jk" class="city-list hidden space-y-2">
        <p>ğŸ³ Vaishno Devi</p>
        <p>ğŸ³ Amarnath</p>
        <p>ğŸ³ Srinagar</p>
      </div>

      <div id="karnataka" class="city-list hidden space-y-2">
        <p>ğŸ³ Udupi</p>
        <p>ğŸ³ Gokarna</p>
        <p>ğŸ³ Murudeshwar</p>
      </div>

      <div id="telangana" class="city-list hidden space-y-2">
        <p>ğŸ³ Hyderabad</p>
        <p>ğŸ³ Srisailam</p>
        <p>ğŸ³ Basara</p>
      </div>
    </div>

    <!-- Right Side -->
    <div class="flex justify-center items-center">
      <img id="indiaMap" src="{% static 'images/uttarakhand.png' %}" alt="India Map" class="w-80 h-auto rounded-lg shadow-md border border-gray-300 transition-all duration-300">
    </div>
  </div>
</section>

<!-- âœ… CONTACT FORM -->
<main class="flex-grow flex items-center justify-center p-4">
  <div class="bg-white shadow-lg rounded-lg p-8 w-full max-w-md">
    <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">Contact Form</h2>

    <form method="POST" class="space-y-4">
      {% csrf_token %}
      <div class="flex flex-col">
        {{ form.name.label_tag }}
        {{ form.name }}
        {% if form.name.errors %}
          <p class="text-red-500 text-sm">{{ form.name.errors }}</p>
        {% endif %}
      </div>

      <div class="flex flex-col">
        {{ form.email.label_tag }}
        {{ form.email }}
        {% if form.email.errors %}
          <p class="text-red-500 text-sm">{{ form.email.errors }}</p>
        {% endif %}
      </div>

      <div class="flex flex-col">
        {{ form.number.label_tag }}
        {{ form.number }}
        {% if form.number.errors %}
          <p class="text-red-500 text-sm">{{ form.number.errors }}</p>
        {% endif %}
      </div>

      <button type="submit" class="w-full bg-blue-500 text-white font-semibold py-2 px-4 rounded hover:bg-blue-600 transition duration-300">
        Submit
      </button>
    </form>
  </div>
</main>

<!-- âœ… SLIDER & TAB SCRIPT -->
<script>
  let currentSlide = 0;
  const slides = document.querySelectorAll('.slide');

  function showSlide(index) {
    slides.forEach((slide, i) => {
      slide.classList.toggle('active-slide', i === index);
    });
  }

  function nextSlide() {
    currentSlide = (currentSlide + 1) % slides.length;
    showSlide(currentSlide);
  }

  function prevSlide() {
    currentSlide = (currentSlide - 1 + slides.length) % slides.length;
    showSlide(currentSlide);
  }

  // Tabs logic
  const tabs = document.querySelectorAll('.tab-btn');
  const cityLists = document.querySelectorAll('.city-list');
  const indiaMap = document.getElementById('indiaMap');
  const searchBox = document.getElementById('searchCity');

  tabs.forEach(tab => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('text-orange-600', 'border-b-2', 'border-orange-500'));
      tab.classList.add('text-orange-600', 'border-b-2', 'border-orange-500');

      cityLists.forEach(list => list.classList.add('hidden'));
      document.getElementById(tab.dataset.state).classList.remove('hidden');
      indiaMap.src = "{% static 'images/' %}" + tab.dataset.state + ".png";
    });
  });

  // Search filter
  searchBox.addEventListener('input', (e) => {
    const term = e.target.value.toLowerCase();
    const activeList = document.querySelector('.city-list:not(.hidden)');
    const cities = activeList.querySelectorAll('p');
    cities.forEach(city => {
      city.style.display = city.textContent.toLowerCase().includes(term) ? '' : 'none';
 
	   });
  });
</script>


{% endblock %}

